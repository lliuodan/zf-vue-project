<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>千分符</title>
    <style>
        span {
            color: red;
        }
    </style>
</head>
<body>
<div id="app">
    <span>{{message.toString().replace(/(\d{1,3})(?=(\d{3})+$)/g,'$1,').toFixed(2)}}</span>
</div>
<script src="node_modules/vue/dist/vue.js"></script>
<script>
    let vm = new Vue({
        el: '#app',
        data: {
            message: 132454618,
        },
        methods: {
            // fmoney(s, n) {
            //     n = n > 0 && n <= 20 ? n : 2;
            //     s = parseFloat((s + '').replace(/[^\d\.-]/g, '')).toFixed(n) + '';
            //     var l = s.split('.') [0].split('').reverse(),
            //         r = s.split('.') [1];
            //     var t = '';
            //     for (var i = 0; i < l.length; i++) {
            //         t += l[i] + ((i + 1) % 3 == 0 && (i + 1) != l.length ? ',' : '');
            //     }
            //     return t.split('').reverse().join('') + '.' + r;
            //
            // }
            format_number(n) {
                var b = parseInt(n).toString();
                var len = b.length;
                if (len <= 3) {
                    return b;
                }
                var r = len % 3;
                return r > 0 ? b.slice(0, r) + "," + b.slice(r, len).match(/\d{3}/g).join(",") : b.slice(r, len).match(/\d{3}/g).join(",");
            }
        }
    })
</script>
<!--<script>
    window.onload=function () {
        function fmoney(s, n)

        {
            n = n > 0 && n <= 20 ? n : 2;
            s = parseFloat((s + '').replace(/[^\d\.-]/g, '')).toFixed(n) + '';
            var l = s.split('.') [0].split('').reverse(),
                r = s.split('.') [1];
            var t = '';
            for (var i = 0; i < l.length; i++)
            {
                t += l[i] + ((i + 1) % 3 == 0 && (i + 1) != l.length ? ',' : '');
            }
            return t.split('').reverse().join('') + '.' + r;

        }

        var aa=fmoney(10000000,2);
        console.log(aa);
    }

</script>-->
</body>
</html>
