webpackJsonp([2],{"3qhf":function(e,t,o){"use strict";var r=o("8OEb"),n=o("34sJ"),a=o("Eg/L"),s=o("1aZS"),i=o("YUpe"),c=o("Pa60"),u=o("hgGi"),f=o("OjTl");n(n.S+n.F*!o("ZBqk")(function(e){Array.from(e)}),"Array",{from:function(e){var t,o,n,l,v=a(e),d="function"==typeof this?this:Array,k=arguments.length,h=k>1?arguments[1]:void 0,b=void 0!==h,_=0,m=f(v);if(b&&(h=r(h,k>2?arguments[2]:void 0,2)),void 0==m||d==Array&&i(m))for(o=new d(t=c(v.length));t>_;_++)u(o,_,b?h(v[_],_):v[_]);else for(l=m.call(v),o=new d;!(n=l.next()).done;_++)u(o,_,b?s(l,h,[n.value,_],!0):n.value);return o.length=_,o}})},Alks:function(e,t,o){o("ADnw"),o("3qhf"),e.exports=o("yDNk").Array.from},IHPB:function(e,t,o){"use strict";t.__esModule=!0;var r,n=o("kfHR"),a=(r=n)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return(0,a.default)(e)}},eds6:function(e,t){},hgGi:function(e,t,o){"use strict";var r=o("QYYr"),n=o("eraq");e.exports=function(e,t,o){t in e?r.f(e,t,n(0,o)):e[t]=o}},kfHR:function(e,t,o){e.exports={default:o("Alks"),__esModule:!0}},tcnj:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("lC5x"),n=o.n(r),a=o("IHPB"),s=o.n(a),i=o("J0Oq"),c=o.n(i),u=o("UeVD"),f=o("gyMJ"),l={data:function(){return{books:[],offset:0,hasMore:!0,isLoading:!1}},created:function(){this.getData()},methods:{getData:function(){var e=this;return c()(n.a.mark(function t(){var o,r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasMore||e.isLoading){t.next=11;break}return e.isLoading=!0,t.next=4,Object(f.d)(e.offset);case 4:o=t.sent,r=o.hasMore,a=o.books,e.books=[].concat(s()(e.books),s()(a)),e.hasMore=r,e.isLoading=!1,e.offset=e.books.length;case 11:case"end":return t.stop()}},t,e)}))()},remove:function(e){var t=this;return c()(n.a.mark(function o(){return n.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(f.e)(e);case 2:t.books=t.books.filter(function(t){return t.bookId!==e});case 3:case"end":return o.stop()}},o,t)}))()},more:function(){this.getData()},loadMore:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){var t=e.$refs.scroll;t.scrollTop+t.clientHeight+20>t.scrollHeight&&e.getData()},60)}},computed:{},components:{MHeader:u.a}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("MHeader",{attrs:{back:!0}},[e._v("列表")]),e._v(" "),o("div",{ref:"scroll",staticClass:"content",on:{scroll:e.loadMore}},[o("ul",e._l(e.books,function(t,r){return o("router-link",{key:r,attrs:{to:{name:"detail",params:{bid:t.bookId}},tag:"li"}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.bookCover,expression:"book.bookCover"}]}),e._v(" "),o("div",[o("h4",[e._v(e._s(t.bookName))]),e._v(" "),o("p",[e._v(e._s(t.bookInfo))]),e._v(" "),o("b",[e._v(e._s(t.bookPrice))]),e._v(" "),o("button",{on:{click:function(o){o.stopPropagation(),e.remove(t.bookId)}}},[e._v("删除")])])])})),e._v(" "),o("div",{staticClass:"more",on:{click:e.more}},[e._v("加载更多")])])],1)},staticRenderFns:[]};var d=o("Z0/y")(l,v,!1,function(e){o("eds6")},"data-v-1aa2219b",null);t.default=d.exports}});
//# sourceMappingURL=2.bf174865a53d46d5aed0.js.map